(this["webpackJsonpbirthday-app"]=this["webpackJsonpbirthday-app"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/logo.81f66d31.png"},21:function(e,t,a){e.exports=a(44)},44:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(19),o=a.n(n),l=(a(9),a(3)),c=a(4),i=a(6),d=a(5),m=a(7),h=a(2),u=a.n(h),p=function(e){function t(){var e,a;Object(l.a)(this,t);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={updatedName:a.props.name,updatedDOB:a.props.dateOfBirth.slice(0,10),updatedInterests:a.props.text,updatedNumber:a.props.number,showDropdown:!1,showModal:!1,checked:a.props.checkbox,birthdayMessage:a.props.message},a.formatDateDisplay=function(e){return a.props.isBirthdayToday?r.a.createElement("div",null,r.a.createElement("h2",{className:"birthday-today"},"turns ",e.nextAge," today! ",r.a.createElement("i",{className:"fa fa-birthday-cake mx-2"})),r.a.createElement("h3",null,u()(e.dateOfBirth).format("MMM Do"))):r.a.createElement("div",null,r.a.createElement("h2",null,a.props.nextBirthday.fromNow()),r.a.createElement("h3",null,"turns ",r.a.createElement("span",{className:"years"},e.nextAge)," on"," ",u()(e.dateOfBirth).format("MMM Do")))},a.handleClickDelete=function(){a.props.deleteBirthdayFunc(a.props.id)},a.handleClickDropdown=function(){!1===a.state.showDropdown?a.setState({showDropdown:!0}):a.setState({showDropdown:!1})},a.handleClickEdit=function(){!1===a.state.showModal&&a.setState({showModal:!0})},a.updateName=function(e){a.setState({updatedName:e.target.value})},a.updateBirthday=function(e){a.setState({updatedDOB:e.target.value})},a.updateInterests=function(e){a.setState({updatedInterests:e.target.value})},a.updateNumber=function(e){a.setState({updatedNumber:e.target.value})},a.updatebirthdayMessage=function(e){a.setState({birthdayMessage:e.target.value})},a.handleModalDismiss=function(){a.setState({showModal:!1})},a.handleUpdate=function(){a.props.editBirthdayFunc(a.props.id,a.state.updatedName,a.state.updatedDOB,a.state.updatedInterests,a.state.updatedNumber,a.state.birthdayMessage,a.state.checked),a.setState({showModal:!1}),console.log(a.state.birthdayMessage,a.state.checked)},a.giftByAge=function(){return a.props.nextAge<2?"https://www.amazon.co.uk/b?ie=UTF8&node=8661766031":a.props.nextAge>=2&&a.props.nextAge<=3?"https://www.amazon.co.uk/gcx/Gifts-for-Toddlers/gfhz/?categoryId=toddler-neutral":a.props.nextAge>=4&&a.props.nextAge<=7?"https://www.amazon.co.uk/gcx/Gifts-for-Kids-4-7/gfhz/?categoryId=kid4-neutral":a.props.nextAge>=8&&a.props.nextAge<=12?"https://www.amazon.com/gcx/Gifts-for-Kids-8-12/gfhz/?categoryId=kid8-neutral":a.props.nextAge>=13&&a.props.nextAge<=17?"https://www.amazon.com/gcx/Gifts-for-Teens/gfhz/?categoryId=teen-neutral":"https://www.amazon.co.uk/gcx/Gifts-for-Everyone/gfhz/?categoryId=adult-neutral"},a.handleClickCheckbox=function(){!0===a.state.checked?a.setState({checked:!1}):a.setState({checked:!0}),console.log(a.state.checked)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:this.state.showModal?"modal isVisible":"modal ",id:"modalEditForm",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header text-center"},r.a.createElement("h4",{className:"modal-title makeItPink"},"Edit ",this.props.name,"'s info"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.handleModalDismiss},r.a.createElement("span",{"aria-hidden":"true",className:"makeItPink"},"\xd7"))),r.a.createElement("div",{className:"modal-body mx-3"},r.a.createElement("div",{className:"md-form"},r.a.createElement("label",{"data-error":"wrong","data-success":"right",htmlFor:"form8"},"Edit name:"),r.a.createElement("textarea",{type:"text",id:"form8",className:"md-textarea form-control",rows:"1",value:this.state.updatedName,onChange:this.updateName})),r.a.createElement("br",null),r.a.createElement("label",{"data-error":"wrong","data-success":"right",htmlFor:"form8"},"Edit birthday:"),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{className:"form-control",type:"date",value:this.state.updatedDOB,onChange:this.updateBirthday})),r.a.createElement("div",{className:"md-form"},r.a.createElement("label",{"data-error":"wrong","data-success":"right",htmlFor:"form8"},"Edit Number:"),r.a.createElement("input",{className:"form-control",type:"tel",value:this.state.updatedNumber,onChange:this.updateNumber})),r.a.createElement("label",{"data-error":"wrong","data-success":"right",htmlFor:"form8"},"Edit Birthday Message:"),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("input",{type:"checkbox","aria-label":"Checkbox for following text input",checked:this.state.checked,onChange:this.handleClickCheckbox}))),r.a.createElement("input",{type:"text",className:"form-control","aria-label":"Text input with checkbox",value:this.state.birthdayMessage,onChange:this.updatebirthdayMessage})),r.a.createElement("div",{className:"md-form"},r.a.createElement("label",{"data-error":"wrong","data-success":"right",htmlFor:"form8"},"Edit interests:"),r.a.createElement("textarea",{type:"text",id:"form8",className:"md-textarea form-control",rows:"2",value:this.state.updatedInterests,onChange:this.updateInterests}))),r.a.createElement("div",{className:"modal-footer d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-unique done-button",onClick:this.handleUpdate},"Done"))))),r.a.createElement("div",{className:"col-12 col-sm-5"},r.a.createElement("button",{className:"btn info-dropdown",onClick:this.handleClickDropdown},r.a.createElement("i",{className:"fa fa-caret-down"})),r.a.createElement("h1",null,this.props.name)),r.a.createElement("div",{className:"col-8 col-sm-4"},this.formatDateDisplay(this.props)),r.a.createElement("div",{className:"col-4 col-sm-3"},r.a.createElement("button",{className:"btn delete",onClick:this.handleClickDelete},r.a.createElement("i",{className:"fa fa-trash"})),r.a.createElement("button",{className:"btn edit",onClick:this.handleClickEdit},r.a.createElement("i",{className:"fa fa-pencil"}))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-10",style:{display:this.state.showDropdown?"inline":"none"}},r.a.createElement("span",{className:"card interests"},"INTERESTS: ",this.props.text),r.a.createElement("span",{className:"card interests"},"PHONE NUMBER: ",this.props.number),r.a.createElement("span",{className:"card interests"},"Birthday Message: ",this.props.message," ",this.state.checked?r.a.createElement("i",{className:"fa fa-check"}," "):r.a.createElement("i",{className:"fa fa-times"}," ")),r.a.createElement("button",{type:"button",className:"btn gift ml-2"},r.a.createElement("a",{href:this.giftByAge(),target:"blank"},r.a.createElement("i",{className:"fa fa-gift"}))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("hr",{className:"rule"}))))}}]),t}(r.a.Component),g=function(e){function t(){var e,a;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",note:"",gender:"",showModal:!1,birthday:"",number:"",checked:!1,message:"",toggle:!1,hideToggle:!0},a.handleClick=function(){a.setState({showModal:!0,name:"",note:"",gender:"",birthday:"",number:"",checked:!1,message:"",hideToggle:!0,toggle:!1})},a.handleModalDismiss=function(){a.setState({showModal:!1})},a.handleClickAdd=function(){""!==a.state.name&&""===a.state.birthday?alert("Please enter valid birthday"):""===a.state.name&&""===a.state.birthday&&""===a.state.note&&""===a.state.number?a.setState({showModal:!1}):a.props.addBirthdayFunc(a.state.name,a.state.birthday,a.state.note,a.state.number,a.state.checked,a.state.message,a.state.toggle),a.setState({showModal:!1}),console.log("message is: "+a.state.message)},a.stateSetting=function(){a.setState({name:"",note:"",gender:"",birthday:"",number:"",checked:!1,message:"Hi, happy birthday! Have a great day x",toggle:!1}),console.log("hi this is statesetting")},a.handleClickCheckbox=function(){!0===a.state.checked?a.setState({checked:!1}):a.setState({checked:!0}),console.log(a.state.checked)},a.updateNoteText=function(e){a.setState({note:e.target.value})},a.handleBirthday=function(e){a.setState({birthday:e.target.value}),u()().format("HH:mm:ss")>"10:00:00"&&u()(e.target.value).format("MM-DD")===u()().format("MM-DD")?a.setState({hideToggle:!1}):a.setState({hideToggle:!0})},a.handleNewName=function(e){a.setState({name:e.target.value})},a.handleNewNumber=function(e){a.setState({number:e.target.value})},a.updatebirthdayMessage=function(e){a.setState({message:e.target.value})},a.handleToggleClick=function(){!0===a.state.toggle?a.setState({toggle:!1}):a.setState({toggle:!0})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{id:"addButton",className:"btn add-button",onClick:this.handleClick},r.a.createElement("i",{className:"fa fa-plus"}," "))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:this.state.showModal?"modal isVisible":"modal",id:"modalEditForm",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header text-center"},r.a.createElement("span",{className:"makeItPink"},"add a birthday..."),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.handleModalDismiss},r.a.createElement("span",{"aria-hidden":"true",className:"makeItPink"},"\xd7"))),r.a.createElement("div",{className:"modal-body mx-3"},r.a.createElement("div",{className:"md-form"},r.a.createElement("label",{"data-error":"wrong","data-success":"right",htmlFor:"form8"},"Name:"),r.a.createElement("textarea",{type:"text",id:"form8",className:"md-textarea form-control",rows:"1",placeholder:"Name",value:this.state.name,onChange:this.handleNewName})),r.a.createElement("br",null),r.a.createElement("label",{"data-error":"wrong","data-success":"right",htmlFor:"form8"},"Birthday:"),r.a.createElement("div",{className:"form-group mx-sm-3 mb-2 row"},r.a.createElement("input",{className:"form-control col-12",type:"date",value:this.state.birthday,onChange:this.handleBirthday})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{"data-error":"wrong","data-success":"right",htmlFor:"tel-input",className:"col-12 col-form-label",value:this.state.number},"Phone Number:"),r.a.createElement("br",null),r.a.createElement("div",{className:"col-12"},r.a.createElement("input",{className:"md-textarea form-control",type:"tel",id:"tel-input",placeholder:"Please include country code e.g. +44 for UK",value:this.state.number,onChange:this.handleNewNumber}))),r.a.createElement("label",{"data-error":"wrong","data-success":"right",htmlFor:"form8"},"Birthday Message:"),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("input",{type:"checkbox","aria-label":"Checkbox for following text input",onClick:this.handleClickCheckbox}))),r.a.createElement("input",{type:"text",className:"form-control","aria-label":"Text input with checkbox",maxLength:"1000",placeholder:"Click checkbox to auto send text on birthday",value:this.state.message,onChange:this.updatebirthdayMessage})),r.a.createElement("div",{className:"md-form"},r.a.createElement("label",{"data-error":"wrong","data-success":"right",htmlFor:"form8"},"Interests:"),r.a.createElement("textarea",{type:"text",id:"form8",className:"md-textarea form-control",rows:"2",placeholder:"Add notes here",value:this.state.note,onChange:this.updateNoteText}))),this.state.hideToggle?r.a.createElement("div",null):r.a.createElement("div",{className:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customSwitches",onClick:this.ifToggleYes}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"customSwitches"},"Would you like a text sent today?")),r.a.createElement("div",{className:"modal-footer d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-unique done-button",onClick:this.handleClickAdd},"Done")))))))}}]),t}(r.a.Component),f=a(20),b=a.n(f),y=a(8),E=a.n(y),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showDropdown:!1},a.handleClickDropdown=function(){!1===a.state.showDropdown?a.setState({showDropdown:!0}):a.setState({showDropdown:!1})},a.updateSearch=function(e){a.props.startSearchFunc(e.target.value)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-md-1"},r.a.createElement("button",{id:"searchButton",className:"btn search-button",onClick:this.handleClickDropdown},r.a.createElement("i",{className:"fa fa-search"}))),r.a.createElement("div",{className:"col-10 col-md-5",style:{display:this.state.showDropdown?"inline":"none"}},r.a.createElement("textarea",{type:"text",id:"form8",className:"col - 6 form-control search",rows:"1",placeholder:"Search",value:this.props.search,onChange:this.updateSearch})))}}]),t}(r.a.Component),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={birthdays:[],search:""},a.calcNextBirthdayAndAge=function(e){return e.map((function(e){var t=u()(e.date_of_birth),a=u()().startOf("day").diff(e.date_of_birth,"years")+1;return e.nextAge=a,e.nextBirthday=t.add(a,"years"),e}))},a.identifyBirthdaysToday=function(e){return e.map((function(e){var t=u()().format("MM-DD"),a=e.nextBirthday.format("MM-DD");return e.isBirthdayToday=!1,t===a&&(e.isBirthdayToday=!0,e.nextBirthday=e.nextBirthday.subtract(1,"years"),e.nextAge=e.nextAge-1),e}))},a.sortBirthdays=function(e){return e.sort((function(e,t){return e.nextBirthday.isAfter(t.nextBirthday)?1:-1})),e},a.search=function(e){a.setState({search:e})},a.searchBirthdays=function(e){if(""===a.state.search)return e;var t=e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(a.state.search)}));return console.log(t),t},a.deleteBirthday=function(e){E.a.delete("https://gggyf4jhi4.execute-api.eu-west-1.amazonaws.com/dev/birthdays/"+e).then((function(t){console.log("this is response:",t);var s=a.state.birthdays.filter((function(t){return t.birthdayID!==e}));a.setState({birthdays:s}),console.log(a.state.birthdays)})).catch((function(e){return console.log("Error deleting birthday",e)}))},a.addBirthday=function(e,t,s,r,n,o,l){var c=a.state.birthdays.slice(),i={name:e,date_of_birth:t,interests:s,phone_number:r,send_message:n,birthday_message:o};u()(t).format("MM-DD")===u()().format("MM-DD")&&!1===l&&E.a.post("https://46m3x72wmb.execute-api.eu-west-2.amazonaws.com/dev/send",{recipient_name:e,recipient_phone_number:r,message:o,from_phone_number:"+447506190696"}),E.a.post("https://gggyf4jhi4.execute-api.eu-west-1.amazonaws.com/dev/birthdays",i).then((function(e){var t=e.data;c.push(t),a.setState({birthdays:c})})).catch((function(e){console.log("Error creating birthday",e)}))},a.editBirthday=function(e,t,s,r,n,o,l){var c={name:t,date_of_birth:s,interests:r,phone_number:n,send_message:o,birthday_message:l};E.a.put("https://gggyf4jhi4.execute-api.eu-west-1.amazonaws.com/dev/birthdays/"+e,c).then((function(i){console.log(c);var d=a.state.birthdays.map((function(a){return a.birthdayID===e&&(a.interests=r,a.name=t,a.date_of_birth=s,a.phone_number=n,a.send_message=o,a.birthday_message=l),a}));a.setState({birthdays:d})})).catch((function(e){return console.log("Error editing task",e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.get("https://gggyf4jhi4.execute-api.eu-west-1.amazonaws.com/dev/birthdays").then((function(t){var a=t.data;e.setState({birthdays:a})})).catch((function(e){console.log("Error getting tasks data",e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement(g,{addBirthdayFunc:this.addBirthday})),r.a.createElement("div",{className:"col-10"},r.a.createElement("img",{src:b.a,alt:"birthdaze logo",className:"logo",width:"233",height:"87"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(N,{startSearchFunc:this.search}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("hr",{className:"rule"}),this.searchBirthdays(this.sortBirthdays(this.identifyBirthdaysToday(this.calcNextBirthdayAndAge(this.state.birthdays)))).map((function(t){return r.a.createElement(p,{name:t.name,dateOfBirth:t.date_of_birth,text:t.interests,number:t.phone_number,key:t.birthdayID,id:t.birthdayID,nextBirthday:t.nextBirthday,nextAge:t.nextAge,isBirthdayToday:t.isBirthdayToday,editBirthdayFunc:e.editBirthday,deleteBirthdayFunc:e.deleteBirthday,message:t.birthday_message,checkbox:t.send_message})})),r.a.createElement("hr",{className:"rule"}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){}},[[21,1,2]]]);
//# sourceMappingURL=main.6c0fce7a.chunk.js.map